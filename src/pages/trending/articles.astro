---
import BaseLayout from '../../layouts/BaseLayout.astro'
import { getPopularArticles } from '../../shared/endpoints.mjs';

const resp = await getPopularArticles();
const json = await resp.json();
const { list: items } = json;
---
<BaseLayout title="Popular Articles">
  <main>
    <header>
      <h1>Trending Articles</h1>
    </header>
    <ul>
    {items.map(item => (
      <li><a href="{`/r/${item.bid}/${item.aid}`}">{item.title}</a></li>
    ))}
    </ul>
  </main>
</BaseLayout>
